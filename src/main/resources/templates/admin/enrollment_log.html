<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <title>История изменений численности</title>
  <link rel="stylesheet" th:href="@{/css/app.css}">
<script th:src="@{/js/table-filters.js}" defer></script></head>
<body>
<div class="container">
  <div class="top-back"><a th:href="@{/admin/dashboard}">← Назад</a></div>
  <h2>История изменений численности (последние 200)</h2>
  <div class="card">
    <table>
      <tr>
        <th>Время</th><th>Кто</th><th>Scope</th><th>Год</th><th>Корпус</th><th>Класс</th>
        <th>Было</th><th>Стало</th><th>Действие</th><th>Комментарий</th>
      </tr>
      <tr th:each="r : ${rows}">
        <td th:text="${r.ts}"></td>
        <td th:text="${r.actor != null ? r.actor.username : ''}"></td>
        <td th:text="${r.scope}"></td>
        <td th:text="${r.academicYear}"></td>
        <td th:text="${r.building != null ? r.building.name : ''}"></td>
        <td th:text="${r.grade + '-' + r.letter}"></td>
        <td th:text="${r.oldStudents}"></td>
        <td th:text="${r.newStudents}"></td>
        <td th:text="${r.action}"></td>
        <td th:text="${r.note}"></td>
      </tr>
    </table>
  </div>
  <p><a th:href="@{/admin/classes}">← Назад</a></p>
</div>
</body>
</html>
