# School Library System

Минимальная, но рабочая система учёта учебников для школы с 8 корпусами:
- Админ-панель: импорт Excel (реестр, учебный план, численность), сверка, Excel-отчёт
- Кабинет библиотекаря: остатки по корпусу, аудит, перемещения, списания (если разрешено)

## Запуск (Docker)
```bash
docker compose up --build
```
Открыть: http://localhost:8080

## Запуск (IDEA)
1. Поднять PostgreSQL (можно docker compose up postgres)
2. Запустить `SchoolLibraryApplication`
3. Открыть http://localhost:8080

## Дефолтные пользователи
- admin / admin (роль ADMIN)
- lib1 / lib1 (роль LIBRARIAN, корпус 1)


## Важно про PostgreSQL
Таблица пользователей называется `app_user` (в Postgres слово `user` зарезервировано).
Если база успела создаться частично — сделайте `docker compose down -v` и поднимите снова.


## Будущий контингент и планирование
1) В админке загрузите будущий контингент: /admin/import → "Будущий контингент" (учебный год, например 2026).
2) Откройте /admin/planning и выберите корпус + учебный год, чтобы увидеть дефицит и скачать Excel.


## Редактирование численности в интерфейсе
Админ: /admin/classes (текущий год) и /admin/classes/future (будущий контингент).
Библиотекари могут редактировать только поля аудита в остатках (выдано/кабинеты/примечание).


## Массовые правки и история
В /admin/classes и /admin/classes/future есть массовая правка (delta) и inline-редактирование в таблице.
История изменений: /admin/classes/log.
